(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/userSend"],{"2b00":function(e,t,n){"use strict";(function(e){n("82d0");o(n("66fd"));var t=o(n("6ee2"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},6841:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var o={userHeader:function(){return Promise.all([n.e("common/vendor"),n.e("components/user-header/user-header")]).then(n.bind(null,"6220"))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"e233"))}},i=function(){var e=this,t=e.$createElement;e._self._c},r=[]},"6ee2":function(e,t,n){"use strict";n.r(t);var o=n("6841"),i=n("fdc8");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("e2df");var u,s=n("f0c5"),c=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],u);t["default"]=c.exports},7590:function(e,t,n){},d841:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("a34a")),i=n("9a1e");function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,o,i,r,u){try{var s=e[r](u),c=s.value}catch(a){return void n(a)}s.done?t(c):Promise.resolve(c).then(o,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function s(e){u(r,o,i,s,c,"next",e)}function c(e){u(r,o,i,s,c,"throw",e)}s(void 0)}))}}var c=function(){n.e("components/community-card/index").then(function(){return resolve(n("0762"))}.bind(null,n)).catch(n.oe)},a={data:function(){return{status:"loading",communityList:[],communityObject:"",userId:"",userIndex:"",loading:!0}},components:{communityCard:c},onLoad:function(t){e.getStorageSync("token")&&e.getStorageSync("userInfo")&&(this.isLogin=!0,this.userInfo=e.getStorageSync("userInfo")),t.type?t.type:t.type="send",t.Id?(this.userId=t.Id,this.initList(t.Id,t.type)):(this.userId=this.userInfo.Id,this.initList(this.userInfo.Id,t.type))},methods:{initList:function(e,t){var n=this;return s(o.default.mark((function r(){var u,s,c;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if("collection"!=t){o.next=6;break}return o.next=3,i.Community.myCollection();case 3:u=o.sent,o.next=9;break;case 6:return o.next=8,i.Community.getUserCommunity(e);case 8:u=o.sent;case 9:return o.next=11,u.getMoreData();case 11:s=o.sent,s.moreData||(n.status="nomore"),c=i.Community.makeImages(s.items,!1),n.communityList=c,n.communityObject=u;case 16:case"end":return o.stop()}}),r)})))()},changeMoreSelect:function(t){var n=this;return s(o.default.mark((function r(){var u,c;return o.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(1!=t.value){r.next=6;break}return r.next=3,i.Community.sendReport(t.Id);case 3:u=r.sent,r.next=10;break;case 6:if(2!=t.value){r.next=10;break}return c=n,r.next=10,new Promise((function(n,r){e.showModal({title:"提示",content:"确定要删除吗",success:function(){var e=s(o.default.mark((function e(n){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.confirm){e.next=7;break}return e.next=3,i.Community.removeCommunity(t.Id);case 3:e.sent,c.communityList.splice(t.index,1),e.next=8;break;case 7:n.cancel&&console.log("用户点击取消");case 8:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}()})}));case 10:200==u.code?e.showToast({title:u.msg}):e.showToast({title:u.msg,icon:"none"});case 11:case"end":return r.stop()}}),r)})))()},clickH5comment:function(t){e.navigateTo({url:"../community/index?Id="+t})},clickFollow:function(t){var n=this;return s(o.default.mark((function r(){var u;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.showLoading({title:"请求中"}),o.next=3,i.Community.sendFollow(t.Id);case 3:o.sent,e.hideLoading(),u=n,null===n||void 0===n||n.communityList.forEach((function(e,n){e.user_id==t.Id&&(u.communityList[n].isFollow=!t.isFollow)}));case 7:case"end":return o.stop()}}),r)})))()},clickGood:function(t){var n=this;return s(o.default.mark((function r(){var u;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n.communityList[t.isIndex].isGood=!t.isGood,0==t.isGood?n.communityList[t.isIndex].good+=1:n.communityList[t.isIndex].good-=1,o.next=4,i.Community.sendGood(t.Id);case 4:u=o.sent,u?e.vibrateShort({success:function(){console.log("抖动")}}):(n.communityList[t.isIndex].isGood=!n.communityList[t.isIndex].isGood,0==t.isGood?n.communityList[t.isIndex].good-=1:n.communityList[t.isIndex].good+=1);case 6:case"end":return o.stop()}}),r)})))()},clickCollection:function(t){var n=this;return s(o.default.mark((function r(){var u;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n.communityList[t.isIndex].isCollection=!t.isCollection,0==t.isCollection?n.communityList[t.isIndex].collection+=1:n.communityList[t.isIndex].collection-=1,o.next=4,i.Community.sendCollection(t.Id);case 4:u=o.sent,u?e.vibrateShort({success:function(){console.log("抖动")}}):0==t.isCollection?n.communityList[t.isIndex].collection-=1:n.communityList[t.isIndex].collection+=1;case 6:case"end":return o.stop()}}),r)})))()}},onReachBottom:function(){var e=this;return s(o.default.mark((function t(){var n,r,u;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.communityObject){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.communityObject;case 4:if(n=t.sent,!n.moreData){t.next=14;break}return t.next=8,n.getMoreData();case 8:r=t.sent,u=i.Community.makeImages(r.items,!1),e.communityList=e.communityList.concat(u),r.moreData||(e.status="nomore"),t.next=15;break;case 14:e.status="nomore";case 15:case"end":return t.stop()}}),t)})))()},onPullDownRefresh:function(){var t=this;return s(o.default.mark((function n(){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.initList(t.userId);case 2:e.showToast({title:"刷新完成",icon:"none"}),e.stopPullDownRefresh();case 4:case"end":return n.stop()}}),n)})))()}};t.default=a}).call(this,n("543d")["default"])},e2df:function(e,t,n){"use strict";var o=n("7590"),i=n.n(o);i.a},fdc8:function(e,t,n){"use strict";n.r(t);var o=n("d841"),i=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=i.a}},[["2b00","common/runtime","common/vendor"]]]);