{"version":3,"sources":["uni-app:///main.js","webpack:////Users/code/community/community/pages/home/index.vue?c64d","webpack:////Users/code/community/community/pages/home/index.vue?74ad","webpack:////Users/code/community/community/pages/home/index.vue?609d","webpack:////Users/code/community/community/pages/home/index.vue?e55e","uni-app:///pages/home/index.vue","webpack:////Users/code/community/community/pages/home/index.vue?9aaf"],"names":["createPage","Page","renderjs","component","options","__file","components","uSearch","uTabs","uLoadmore","tabbar","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":"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","file":"pages/home/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/home/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=71e217db&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=71e217db&\"","var components\ntry {\n  components = {\n    uSearch: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-search/u-search\" */ \"@/uview-ui/components/u-search/u-search.vue\"\n      )\n    },\n    uTabs: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tabs/u-tabs\" */ \"@/uview-ui/components/u-tabs/u-tabs.vue\"\n      )\n    },\n    uLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    },\n    tabbar: function() {\n      return import(\n        /* webpackChunkName: \"components/tabbar/tabbar\" */ \"@/components/tabbar/tabbar.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"u-page\" style=\"height: 93vh;\">\n\t\t\t\n\t\t\t<view style=\"width: 95%;margin: 0 auto;\">\n\t\t\t\t<u-search placeholder=\"点我搜索\" :disabled=\"true\" :show-action=\"false\" @click=\"tapSearch\"></u-search>\n\t\t\t</view>\n\t\t\t<u-tabs :list=\"list\" active-color=\"#5466ff\" :is-scroll=\"true\" :current=\"swiperCurrent\" @change=\"change\"></u-tabs>\n\t\t\t<block v-for=\"(i,j) in communityList\" :key=\"j\">\n\t\t\t\t<community-card\n\t\t\t\t\t\t@tapComment=\"tapComment\"\n\t\t\t\t\t\t:info=\"i\" :isIndex=\"j\"\n\t\t\t\t\t\t@clickGood=\"clickGood\"\n\t\t\t\t\t\t@clickCollection=\"clickCollection\"\n\t\t\t\t\t\t@clickFollow=\"clickFollow\"\n\t\t\t\t\t\t@clickH5comment=\"clickH5comment\"\n\t\t\t\t\t\t@changeMoreSelect=\"changeMoreSelect\"\n\t\t\t\t></community-card>\n\t\t\t</block>\n\t\t\t<community-comment \n\t\t\t\t:show=\"showComment\"\n\t\t\t\t:info=\"commentList\"\n\t\t\t\t@close=\"closeComment\"\n\t\t\t\t@sendComment=\"sendComment\"\n\t\t\t\t@tapGood=\"tapGood\"\n\t\t\t\t@tapGoodTwo=\"tapGoodTwo\"\n\t\t\t></community-comment>\n\t\t\t<view style=\"width: 100%;height: 10vh;margin-top: 20rpx;\">\n\t\t\t\t<u-loadmore :status=\"status\"/>\n\t\t\t</view>\n\t\t\t<view style=\"width: 100%;height: 10vh\">\n\t\t\t\t\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- <u-tabbar active-color=\"#5466ff\" v-model=\"current\" :list=\"tabbar\"  :mid-button=\"true\" height=\"7vh\"></u-tabbar>\t -->\n\t\t<tabbar  :current='current' :show=\"show\" @changeShow=\"changeShow\"></tabbar>\n\t</view>\n</template>\n\n<script>\n// 一奇开源 QQ330729121\nimport communityCard from '../../components/community-card/index.vue';\nimport communityComment from '../../components/community-comment/index.vue';\nimport tabbar from \"../../components/tabbar/tabbar\"\n//import tabbar from \"../../common/tabbar.js\"\nimport {Community} from \"../../model/community\";\nimport {getTime} from \"../../utils/public.js\";\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcurrent:0,\n\t\t\ttabsCurrent:1,\n\t\t\tswiperCurrent:0,\n\t\t\t// tabbar:tabbar,\n\t\t\tcommunityList:[],\n\t\t\tcommentList:[],\n\t\t\tstatus:\"loading\",\n\t\t\tlist: [\n\t\t\t\t{\n\t\t\t\t\tname: '关注',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '最新'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '最热'\n\t\t\t\t}\n\t\t\t],\n\t\t\tshow:false,\n\t\t\tshowComment: false,\n\t\t\tcommentCode:{\n\t\t\t\t\n\t\t\t},\n\t\t\tcommunityObject:\"\"\n\t\t};\n\t},\n\tcomponents: {\n\t\tcommunityCard,\n\t\tcommunityComment,\n\t    tabbar\n\t},\n\tmounted() {\n\t\t\n\t},\n\tasync onLoad(){\n\t\tawait this.initGroup();\n\t\tthis.initList();\n\t},\n\tasync onReachBottom(){\n\t\tif(this.communityObject==\"\")return ;\n\t\tvar paging =await this.communityObject;\n\t\tconsole.log(paging.moreData==true)\n\t\tif(paging.moreData){\n\t\t\tvar data = await paging.getMoreData();\n\t\t\tconst resData=Community.makeImages(data.items);\n\t\t\tthis.communityList=this.communityList.concat(resData);\n\t\t\tif(!data.moreData){\n\t\t\t\tthis.status=\"nomore\";\n\t\t\t}\n\t\t}else{\n\t\t\tthis.status=\"nomore\";\n\t\t}\n\t\tconsole.log(this.status)\n\t},\n\tasync onPullDownRefresh(){\n\t\tawait this.initList();\n\t\tuni.showToast({\n\t\t\ttitle:\"刷新完成\",\n\t\t\ticon:'none'\n\t\t})\n\t\tuni.stopPullDownRefresh();\n\t},\n\tmethods: {\n\t\ttapSearch(e){\n\t\t\tconsole.log(123)\n\t\t\tuni.navigateTo({\n\t\t\t\turl:\"../search/search\"\n\t\t\t})\n\t\t},\n\t\tchangeShow(e){\n\t\t\tconsole.log(e)\n\t\t\tthis.show=true;\n\t\t},\n\t\t//选择了更多\n\t\tasync changeMoreSelect(e){\n\t\t\t//举报\n\t\t\tif(e.value==1){\n\t\t\t\tvar ress = await Community.sendReport(e.Id);\n\t\t\t//删除\t\n\t\t\t}else if(e.value==2){\n\t\t\t\tvar that = this;\n\t\t\t\tawait new Promise((res,rs)=>{\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t    title: '提示',\n\t\t\t\t\t    content: '确定要删除吗',\n\t\t\t\t\t    success: async function (res) {\n\t\t\t\t\t        if (res.confirm) {\n\t\t\t\t\t           var ress = await Community.removeCommunity(e.Id);\n\t\t\t\t\t           that.communityList.splice(e.index, 1); \n\t\t\t\t\t        } else if (res.cancel) {\n\t\t\t\t\t            console.log('用户点击取消');\n\t\t\t\t\t        }\n\t\t\t\t\t    }\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t}else if(e.value==3){\n\t\t\t\tvar ress = await Community.closeTop(e.Id);\n\t\t\t}\n\t\t\tif(ress.code==200){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:ress.msg\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:ress.msg,\n\t\t\t\t\ticon:'none'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t//H5点击回复\n\t\tclickH5comment(e){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:\"../community/index?Id=\"+e\n\t\t\t})\n\t\t},\n\t\t//初始化数据\n\t\tasync initList(group='',index=1){\n\t\t\tthis.swiperCurrent=index;\n\t\t\t//初始化最新首页数据\n\t\t\tif(group==''){\n\t\t\t\tvar paging = await Community.getContent();\n\t\t\t}else{\n\t\t\t\tvar paging = await Community.getContent(group);\n\t\t\t}\n\t\t\tvar top = await Community.getCommunityTop();\n\t\t\tvar data = await paging.getMoreData();\n\t\t\tif(!data.moreData){\n\t\t\t\tthis.status=\"nomore\";\n\t\t\t};\n\t\t\tconst resData=Community.makeImages(data.items,false);\n\t\t\tif(top.data.length>0){\n\t\t\t\tvar resTop=Community.makeImages(top.data,false);\n\t\t\t\tthis.communityList=resTop.concat(resData);\n\t\t\t}else{\n\t\t\t\tthis.communityList=resData;\n\t\t\t}\n\t\t\t\n\t\t\tthis.communityObject=paging;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t},\n\t\t//初始化圈子类别\n\t\tasync initGroup(){\n\t\t\tvar quanzi = await Community.getCommunityGroup();\n\t\t\tquanzi.data.shift();\n\t\t\tthis.list=this.list.concat(quanzi.data)\n\t\t},\n\t\t//二级评论点赞\n\t\tasync tapGoodTwo(e){\n\t\t\tvar res = await Community.sendCommentTwoGood(e.Id);\n\t\t\tif(res){\n\t\t\t\tthis.commentList[e.index].twoComment[e.indexTwo].isGood=!e.isGood;\n\t\t\t\tthis.commentList[e.index].twoComment[e.indexTwo].isGood==1?this.commentList[e.index].twoComment[e.indexTwo].good+=1:this.commentList[e.index].twoComment[e.indexTwo].good-=1;\n\t\t\t}\n\t\t},\n\t\t//评论点赞\n\t\tasync tapGood(e){\n\t\t\tvar res = await Community.sendCommentGood(e.Id);\n\t\t\tif(res){\n\t\t\t\tthis.commentList[e.index].isGood=!e.isGood;\n\t\t\t\tthis.commentList[e.index].isGood==1?this.commentList[e.index].good+=1:this.commentList[e.index].good-=1;\n\t\t\t}\n\t\t},\n\t\t//评论\n\t\tasync sendComment(e){\n\t\t\tconst res = await Community.senComment({'community_id':this.commentCode.Id,'comment_user_id':e.Id,'content':e.content});\n\t\t\tif(res){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:\"评论成功\"\n\t\t\t\t})\n\t\t\t\tuni.$emit('commentOk',{\n\t\t\t\t\tcode:true\n\t\t\t\t});\n\t\t\t\tconst userInfo=uni.getStorageSync('userInfo');\n\t\t\t\tlet comment={\n\t\t\t\t\tId: res.data.Id,\n\t\t\t\t\tavatar: userInfo.avatar,\n\t\t\t\t\tcontent: e.content,\n\t\t\t\t\tcreate_time:getTime(),\n\t\t\t\t\tgood: 0,\n\t\t\t\t\tisGood: 0,\n\t\t\t\t\tnickname: userInfo.nickname,\n\t\t\t\t\tsign: userInfo.sign,\n\t\t\t\t\ttwoComment: [],\n\t\t\t\t\tuser_id: userInfo.Id,\n\t\t\t\t\tusername: userInfo.username\n\t\t\t\t}\n\t\t\t\tif(e.Id){\n\t\t\t\t\tthis.commentList[e.index]['twoComment'].unshift(comment);\n\t\t\t\t}else{\n\t\t\t\t\tthis.commentList.unshift(comment);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\t//关注\n\t\tasync clickFollow(e){\n\t\t\tuni.showLoading({\n\t\t\t\ttitle:\"请求中\"\n\t\t\t})\n\t\t\tconst res= await Community.sendFollow(e.Id);\n\t\t\tuni.hideLoading();\n\t\t\tvar that = this;\n\t\t\tthis?.communityList.forEach((item,index)=>{\n\t\t\t\tif(item.user_id==e.Id){\n\t\t\t\t\tthat.communityList[index].isFollow=!e.isFollow;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//点赞\n\t\tasync clickGood(e){\n\t\t\tthis.communityList[e.isIndex].isGood=!e.isGood;\n\t\t\te.isGood==0?this.communityList[e.isIndex].good+=1:this.communityList[e.isIndex].good-=1;\n\t\t\tconst res= await Community.sendGood(e.Id);\n\t\t\tif(res){\n\t\t\t\t//#ifdef MP-WEIXIN\n\t\t\t\tuni.vibrateShort({\n\t\t\t\t\tsuccess: function () {\n\t\t\t\t\t\tconsole.log('抖动');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//#endif\n\t\t\t}else{\n\t\t\t\tthis.communityList[e.isIndex].isGood=!this.communityList[e.isIndex].isGood;\n\t\t\t\te.isGood==0?this.communityList[e.isIndex].good-=1:this.communityList[e.isIndex].good+=1;\n\t\t\t}\n\t\t},\n\t\t//收藏\n\t\tasync clickCollection(e){\n\t\t\tthis.communityList[e.isIndex].isCollection=!e.isCollection;\n\t\t\te.isCollection==0?this.communityList[e.isIndex].collection+=1:this.communityList[e.isIndex].collection-=1;\n\t\t\tconst res= await Community.sendCollection(e.Id);\n\t\t\tif(res){\n\t\t\t\t//#ifdef APP-PLUS||MP-WEIXIN\n\t\t\t\tuni.vibrateShort({\n\t\t\t\t\tsuccess: function () {\n\t\t\t\t\t\tconsole.log('抖动');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//#endif\n\t\t\t}else{\n\t\t\t\te.isCollection==0?this.communityList[e.isIndex].collection-=1:this.communityList[e.isIndex].collection+=1;\n\t\t\t}\n\t\t},\n\t\tasync tapComment(e) {\n\t\t\tthis.commentCode=e;\n\t\t\tthis.showComment = true;\n\t\t\tconst res= await Community.getComment(e.Id);\n\t\t\tthis.commentList=res.accoumulator;\n\t\t},\n\t\tcloseComment(e) {\n\t\t\tthis.showComment = false;\n\t\t},\n\t\t//获取我的关注\n\t\tasync getMyFollow(){\n\t\t\tif(uni.getStorageSync('userInfo')==undefined || uni.getStorageSync('userInfo')==''){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:\"请先登录\",\n\t\t\t\t\ticon:\"none\"\n\t\t\t\t})\n\t\t\t\treturn ;\n\t\t\t}\n\t\t\tthis.swiperCurrent = 0;\n\t\t\tvar paging = await Community.getMyFollow();\n\t\t\tconst moreData = await paging.getMoreData();\n\t\t\tconst data=Community.makeImages(moreData.items);\n\t\t\tif(!data.moreData){\n\t\t\t\tthis.status=\"nomore\";\n\t\t\t};\n\t\t\tthis.communityList=data;\n\t\t\tthis.communityObject=paging;\n\t\t\t\n\t\t},\n\t\t//获取最热\n\t\tasync getCommunityFire(){\n\t\t\tthis.swiperCurrent = 2;\n\t\t\tvar paging = await Community.getCommunityFire();\n\t\t\tconst moreData = await paging.getMoreData();\n\t\t\tconst data=Community.makeImages(moreData.items);\n\t\t\tthis.communityList=data;\n\t\t\tthis.communityObject=paging;\n\t\t\t\n\t\t\tconsole.log(data);\n\t\t},\n\t\t// tab栏切换\n\t\tchange(index) {\n\t\n\t\t\tif(index==0){\n\t\t\t\tthis.getMyFollow();\n\t\t\t}else if(index==1){\n\t\t\t\tthis.initList()\n\t\t\t}else if(index==2){\n\t\t\t\tthis.getCommunityFire();\n\t\t\t}else{\n\t\t\t\tthis.initList(this.list[index].Id,index);\n\t\t\t\tthis.swiperCurrent=index;\n\t\t\t}\n\t\t},\n\t\tchangeTab(index){\n\t\t\tthis.current=index;\n\t\t\tuni.reLaunch({\n\t\t\t\turl:this.tabbar[index].path\n\t\t\t})\n\t\t},\n\t}\n};\n</script>\n\n<style lang=\"scss\">\n\t// .swiper-box {\n\t// \tflex: 1;\n\t// \theight: calc(100vh - 50rpx - 80rpx - 100rpx - var(--window-top));\n\t// }\n\t.swiper-item {\n\t\theight: 100%;\n\t}\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}