{"version":3,"sources":["uni-app:///main.js","webpack:////Users/code/community/community/pages/my/userSend.vue?5d48","webpack:////Users/code/community/community/pages/my/userSend.vue?2f93","webpack:////Users/code/community/community/pages/my/userSend.vue?f353","webpack:////Users/code/community/community/pages/my/userSend.vue?dea2","uni-app:///pages/my/userSend.vue","webpack:////Users/code/community/community/pages/my/userSend.vue?c083"],"names":["createPage","Page","renderjs","component","options","__file","components","userHeader","uLoadmore","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,0C,mDACAA,EAAWC,a;;;;2DCHX,kRACIC,EADJ,kMASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,wBACZ,aAAAF,E;;;;2GCvBf,2xC;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,WAAY,WACV,OAAO,yMAITC,UAAW,WACT,OAAO,2LAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCtCvB,83BAAu0B,eAAG,G;;;;yMCsB10B,oC,mlBACA,CACA,KADA,WAEA,OACA,iBACA,iBACA,mBACA,UACA,aACA,aAGA,YACA,iBAEA,OAdA,SAcA,GACA,0DACA,gBACA,4CAEA,4BACA,MACA,iBACA,6BAEA,6BACA,yCAGA,SACA,SADA,SACA,2IACA,gBADA,gCAEA,2BAFA,OAEA,EAFA,6CAKA,gCALA,OAKA,EALA,+BAOA,gBAPA,QAOA,EAPA,OASA,aACA,mBAEA,qCACA,kBACA,oBAdA,+CAiBA,iBAlBA,SAkBA,uIAEA,WAFA,gCAGA,6BAHA,OAGA,EAHA,iCAKA,WALA,wBAMA,IANA,cAOA,uBACA,aACA,WACA,iBACA,qIACA,UADA,gCAEA,kCAFA,cAGA,kCAHA,sBAIA,UACA,sBALA,yGAXA,QAsBA,YACA,aACA,cAGA,aACA,YACA,cA7BA,+CAkCA,eApDA,SAoDA,GACA,cACA,kCAIA,YA1DA,SA0DA,yIACA,eACA,cAFA,SAIA,6BAJA,cAKA,gBACA,IACA,6DACA,kBACA,4CATA,8CAcA,UAxEA,SAwEA,yIACA,4CACA,kFAFA,SAGA,2BAHA,OAGA,EAHA,OAIA,EAEA,gBACA,mBACA,sBAKA,qEACA,mFAdA,8CAkBA,gBA1FA,SA0FA,yIACA,wDACA,oGAFA,SAGA,iCAHA,OAGA,EAHA,OAIA,EAEA,gBACA,mBACA,qBAKA,oGAbA,+CAiBA,cAvIA,WAuIA,sIACA,sBADA,iEAEA,EAFA,0BAEA,EAFA,QAGA,WAHA,iCAIA,gBAJA,OAIA,EAJA,OAKA,qCACA,0CACA,aACA,mBARA,wBAWA,kBAXA,+CAcA,kBArJA,WAqJA,yIACA,qBADA,OAEA,aACA,aACA,cAEA,wBANA,+C;;;;2DC5KA,kiDAAo/C,eAAG,G","file":"pages/my/userSend.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/my/userSend.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./userSend.vue?vue&type=template&id=2e31dc0d&\"\nvar renderjs\nimport script from \"./userSend.vue?vue&type=script&lang=js&\"\nexport * from \"./userSend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userSend.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/my/userSend.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userSend.vue?vue&type=template&id=2e31dc0d&\"","var components\ntry {\n  components = {\n    userHeader: function() {\n      return import(\n        /* webpackChunkName: \"components/user-header/user-header\" */ \"@/components/user-header/user-header.vue\"\n      )\n    },\n    uLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userSend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userSend.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<user-header :Id=\"userId\"></user-header>\n\t\t<block v-for=\"(i, j) in communityList\" :key=\"j\">\n\t\t\t<community-card\n\t\t\t\t@tapComment=\"tapComment\"\n\t\t\t\t:info=\"i\"\n\t\t\t\t:isIndex=\"j\"\n\t\t\t\t:noHeaderGo=\"true\"\n\t\t\t\t@clickGood=\"clickGood\"\n\t\t\t\t@clickCollection=\"clickCollection\"\n\t\t\t\t@clickFollow=\"clickFollow\"\n\t\t\t\t@clickH5comment=\"clickH5comment\"\n\t\t\t\t@changeMoreSelect=\"changeMoreSelect\"\n\t\t\t></community-card>\n\t\t</block>\n\t\t<view style=\"width: 100%;height: 10vh;margin-top: 20rpx;\"><u-loadmore :status=\"status\" /></view>\n\t</view>\n</template>\n\n<script>\nimport communityCard from '../../components/community-card/index.vue';\nimport { Community } from '../../model/community';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tstatus: 'loading',\n\t\t\tcommunityList: [],\n\t\t\tcommunityObject: '',\n\t\t\tuserId: '',\n\t\t\tuserIndex: '',\n\t\t\tloading: true // 是否显示骨架屏组件\n\t\t};\n\t},\n\tcomponents: {\n\t\tcommunityCard\n\t},\n\tonLoad(option) {\n\t\tif (uni.getStorageSync('token') && uni.getStorageSync('userInfo')) {\n\t\t\tthis.isLogin = true;\n\t\t\tthis.userInfo = uni.getStorageSync('userInfo');\n\t\t}\n\t\toption.type?option.type:option.type='send';\n\t\tif (option.Id) {\n\t\t\tthis.userId = option.Id;\n\t\t\tthis.initList(option.Id,option.type);\n\t\t} else {\n\t\t\tthis.userId = this.userInfo.Id;\n\t\t\tthis.initList(this.userInfo.Id,option.type);\n\t\t}\n\t},\n\tmethods: {\n\t\tasync initList(Id,type) {\n\t\t\tif(type=='collection'){\n\t\t\t\tvar paging = await Community.myCollection();\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tvar paging = await Community.getUserCommunity(Id);\n\t\t\t}\n\t\t\tvar res = await paging.getMoreData();\n\t\t\t\n\t\t\tif (!res.moreData) {\n\t\t\t\tthis.status = 'nomore';\n\t\t\t}\n\t\t\tconst resData = Community.makeImages(res.items,false);\n\t\t\tthis.communityList = resData;\n\t\t\tthis.communityObject = paging;\n\t\t},\n\t\t//选择了更多\n\t\tasync changeMoreSelect(e){\n\t\t\t//举报\n\t\t\tif(e.value==1){\n\t\t\t\tvar ress = await Community.sendReport(e.Id);\n\t\t\t//删除\t\n\t\t\t}else if(e.value==2){\n\t\t\t\tvar that = this;\n\t\t\t\tawait new Promise((res,rs)=>{\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t    title: '提示',\n\t\t\t\t\t    content: '确定要删除吗',\n\t\t\t\t\t    success: async function (res) {\n\t\t\t\t\t        if (res.confirm) {\n\t\t\t\t\t           var ress = await Community.removeCommunity(e.Id);\n\t\t\t\t\t           that.communityList.splice(e.index, 1); \n\t\t\t\t\t        } else if (res.cancel) {\n\t\t\t\t\t            console.log('用户点击取消');\n\t\t\t\t\t        }\n\t\t\t\t\t    }\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t}\n\t\t\tif(ress.code==200){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:ress.msg\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:ress.msg,\n\t\t\t\t\ticon:'none'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t//H5点击回复\n\t\tclickH5comment(e){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:\"../community/index?Id=\"+e\n\t\t\t})\n\t\t},\n\t\t//关注\n\t\tasync clickFollow(e) {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '请求中'\n\t\t\t});\n\t\t\tconst res = await Community.sendFollow(e.Id);\n\t\t\tuni.hideLoading();\n\t\t\tvar that = this;\n\t\t\tthis?.communityList.forEach((item, index) => {\n\t\t\t\tif (item.user_id == e.Id) {\n\t\t\t\t\tthat.communityList[index].isFollow = !e.isFollow;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//点赞\n\t\tasync clickGood(e) {\n\t\t\tthis.communityList[e.isIndex].isGood = !e.isGood;\n\t\t\te.isGood == 0 ? (this.communityList[e.isIndex].good += 1) : (this.communityList[e.isIndex].good -= 1);\n\t\t\tconst res = await Community.sendGood(e.Id);\n\t\t\tif (res) {\n\t\t\t\t//#ifdef MP-WEIXIN\n\t\t\t\tuni.vibrateShort({\n\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\tconsole.log('抖动');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//#endif\n\t\t\t} else {\n\t\t\t\tthis.communityList[e.isIndex].isGood = !this.communityList[e.isIndex].isGood;\n\t\t\t\te.isGood == 0 ? (this.communityList[e.isIndex].good -= 1) : (this.communityList[e.isIndex].good += 1);\n\t\t\t}\n\t\t},\n\t\t//收藏\n\t\tasync clickCollection(e) {\n\t\t\tthis.communityList[e.isIndex].isCollection = !e.isCollection;\n\t\t\te.isCollection == 0 ? (this.communityList[e.isIndex].collection += 1) : (this.communityList[e.isIndex].collection -= 1);\n\t\t\tconst res = await Community.sendCollection(e.Id);\n\t\t\tif (res) {\n\t\t\t\t//#ifdef APP-PLUS||MP-WEIXIN\n\t\t\t\tuni.vibrateShort({\n\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\tconsole.log('抖动');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//#endif\n\t\t\t} else {\n\t\t\t\te.isCollection == 0 ? (this.communityList[e.isIndex].collection -= 1) : (this.communityList[e.isIndex].collection += 1);\n\t\t\t}\n\t\t}\n\t},\n\tasync onReachBottom() {\n\t\tif (this.communityObject == '') return;\n\t\tvar paging = await this.communityObject;\n\t\tif (paging.moreData) {\n\t\t\tvar data = await paging.getMoreData();\n\t\t\tconst resData = Community.makeImages(data.items,false);\n\t\t\tthis.communityList = this.communityList.concat(resData);\n\t\t\tif (!data.moreData) {\n\t\t\t\tthis.status = 'nomore';\n\t\t\t}\n\t\t} else {\n\t\t\tthis.status = 'nomore';\n\t\t}\n\t},\n\tasync onPullDownRefresh() {\n\t\tawait this.initList(this.userId);\n\t\tuni.showToast({\n\t\t\ttitle: '刷新完成',\n\t\t\ticon: 'none'\n\t\t});\n\t\tuni.stopPullDownRefresh();\n\t}\n};\n</script>\n\n<style lang=\"scss\">\n.header {\n\twidth: 100%;\n\theight: 200rpx;\n\tmargin-bottom: 20rpx;\n}\n.myLimit {\n\theight: 100%;\n\twidth: 660rpx;\n\tmargin: 0 auto;\n}\n.closeLogin {\n\twidth: 100%;\n\theight: 100rpx;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-color: #fff;\n\tbox-shadow: 4rpx 5rpx 30rpx #eeeff9;\n}\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userSend.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userSend.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}