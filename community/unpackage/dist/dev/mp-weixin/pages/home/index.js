(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/index"],{40:
/*!*******************************************************************************!*\
  !*** /Users/code/community/community/main.js?{"page":"pages%2Fhome%2Findex"} ***!
  \*******************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){n(/*! uni-pages */4);o(n(/*! vue */2));var e=o(n(/*! ./pages/home/index.vue */41));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},41:
/*!************************************************************!*\
  !*** /Users/code/community/community/pages/home/index.vue ***!
  \************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var o=n(/*! ./index.vue?vue&type=template&id=71e217db& */42),r=n(/*! ./index.vue?vue&type=script&lang=js& */44);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n(/*! ./index.vue?vue&type=style&index=0&lang=scss& */55);var c,s=n(/*! ../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),u=Object(s["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],c);u.options.__file="pages/home/index.vue",e["default"]=u.exports},42:
/*!*******************************************************************************************!*\
  !*** /Users/code/community/community/pages/home/index.vue?vue&type=template&id=71e217db& ***!
  \*******************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";n.r(e);var o=n(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=71e217db& */43);n.d(e,"render",(function(){return o["render"]})),n.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(e,"components",(function(){return o["components"]}))},43:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/code/community/community/pages/home/index.vue?vue&type=template&id=71e217db& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";var o;n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return c})),n.d(e,"recyclableRender",(function(){return i})),n.d(e,"components",(function(){return o}));try{o={uSearch:function(){return n.e(/*! import() | uview-ui/components/u-search/u-search */"uview-ui/components/u-search/u-search").then(n.bind(null,/*! @/uview-ui/components/u-search/u-search.vue */145))},uTabs:function(){return n.e(/*! import() | uview-ui/components/u-tabs/u-tabs */"uview-ui/components/u-tabs/u-tabs").then(n.bind(null,/*! @/uview-ui/components/u-tabs/u-tabs.vue */152))},uLoadmore:function(){return n.e(/*! import() | uview-ui/components/u-loadmore/u-loadmore */"uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,/*! @/uview-ui/components/u-loadmore/u-loadmore.vue */159))},tabbar:function(){return n.e(/*! import() | components/tabbar/tabbar */"components/tabbar/tabbar").then(n.bind(null,/*! @/components/tabbar/tabbar.vue */166))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var t=this,e=t.$createElement;t._self._c},i=!1,c=[];r._withStripped=!0},44:
/*!*************************************************************************************!*\
  !*** /Users/code/community/community/pages/home/index.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var o=n(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */45),r=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=r.a},45:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/code/community/community/pages/home/index.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=c(n(/*! ./node_modules/@babel/runtime/regenerator */46)),r=n(/*! ../../model/community */49),i=n(/*! ../../utils/public.js */54);function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,o,r,i,c){try{var s=t[i](c),u=s.value}catch(a){return void n(a)}s.done?e(u):Promise.resolve(u).then(o,r)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function c(t){s(i,o,r,c,u,"next",t)}function u(t){s(i,o,r,c,u,"throw",t)}c(void 0)}))}}var a=function(){n.e(/*! require.ensure | components/community-card/index */"components/community-card/index").then(function(){return resolve(n(/*! ../../components/community-card/index.vue */171))}.bind(null,n)).catch(n.oe)},m=function(){n.e(/*! require.ensure | components/community-comment/index */"components/community-comment/index").then(function(){return resolve(n(/*! ../../components/community-comment/index.vue */178))}.bind(null,n)).catch(n.oe)},d=function(){n.e(/*! require.ensure | components/tabbar/tabbar */"components/tabbar/tabbar").then(function(){return resolve(n(/*! ../../components/tabbar/tabbar */166))}.bind(null,n)).catch(n.oe)},l={data:function(){return{current:0,tabsCurrent:1,swiperCurrent:0,communityList:[],commentList:[],status:"loading",list:[{name:"关注"},{name:"最新"},{name:"最热"}],show:!1,showComment:!1,commentCode:{},communityObject:""}},components:{communityCard:a,communityComment:m,tabbar:d},mounted:function(){},onLoad:function(){var t=this;return u(o.default.mark((function e(){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.initGroup();case 2:t.initList();case 3:case"end":return e.stop()}}),e)})))()},onReachBottom:function(){var t=this;return u(o.default.mark((function e(){var n,i,c;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.communityObject){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.communityObject;case 4:if(n=e.sent,console.log(1==n.moreData),!n.moreData){e.next=15;break}return e.next=9,n.getMoreData();case 9:i=e.sent,c=r.Community.makeImages(i.items),t.communityList=t.communityList.concat(c),i.moreData||(t.status="nomore"),e.next=16;break;case 15:t.status="nomore";case 16:console.log(t.status);case 17:case"end":return e.stop()}}),e)})))()},onPullDownRefresh:function(){var e=this;return u(o.default.mark((function n(){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.initList();case 2:t.showToast({title:"刷新完成",icon:"none"}),t.stopPullDownRefresh();case 4:case"end":return n.stop()}}),n)})))()},methods:{tapSearch:function(e){console.log(123),t.navigateTo({url:"../search/search"})},changeShow:function(t){console.log(t),this.show=!0},changeMoreSelect:function(e){var n=this;return u(o.default.mark((function i(){var c,s;return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(1!=e.value){i.next=6;break}return i.next=3,r.Community.sendReport(e.Id);case 3:c=i.sent,i.next=16;break;case 6:if(2!=e.value){i.next=12;break}return s=n,i.next=10,new Promise((function(n,i){t.showModal({title:"提示",content:"确定要删除吗",success:function(){var t=u(o.default.mark((function t(n){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.confirm){t.next=7;break}return t.next=3,r.Community.removeCommunity(e.Id);case 3:t.sent,s.communityList.splice(e.index,1),t.next=8;break;case 7:n.cancel&&console.log("用户点击取消");case 8:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()})}));case 10:i.next=16;break;case 12:if(3!=e.value){i.next=16;break}return i.next=15,r.Community.closeTop(e.Id);case 15:c=i.sent;case 16:200==c.code?t.showToast({title:c.msg}):t.showToast({title:c.msg,icon:"none"});case 17:case"end":return i.stop()}}),i)})))()},clickH5comment:function(e){t.navigateTo({url:"../community/index?Id="+e})},initList:function(){var t=arguments,e=this;return u(o.default.mark((function n(){var i,c,s,u,a,m,d;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=t.length>0&&void 0!==t[0]?t[0]:"",c=t.length>1&&void 0!==t[1]?t[1]:1,e.swiperCurrent=c,""!=i){n.next=9;break}return n.next=6,r.Community.getContent();case 6:s=n.sent,n.next=12;break;case 9:return n.next=11,r.Community.getContent(i);case 11:s=n.sent;case 12:return n.next=14,r.Community.getCommunityTop();case 14:return u=n.sent,n.next=17,s.getMoreData();case 17:a=n.sent,a.moreData||(e.status="nomore"),m=r.Community.makeImages(a.items,!1),u.data.length>0?(d=r.Community.makeImages(u.data,!1),e.communityList=d.concat(m)):e.communityList=m,e.communityObject=s;case 23:case"end":return n.stop()}}),n)})))()},initGroup:function(){var t=this;return u(o.default.mark((function e(){var n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.Community.getCommunityGroup();case 2:n=e.sent,n.data.shift(),t.list=t.list.concat(n.data);case 5:case"end":return e.stop()}}),e)})))()},tapGoodTwo:function(t){var e=this;return u(o.default.mark((function n(){var i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.Community.sendCommentTwoGood(t.Id);case 2:i=n.sent,i&&(e.commentList[t.index].twoComment[t.indexTwo].isGood=!t.isGood,1==e.commentList[t.index].twoComment[t.indexTwo].isGood?e.commentList[t.index].twoComment[t.indexTwo].good+=1:e.commentList[t.index].twoComment[t.indexTwo].good-=1);case 4:case"end":return n.stop()}}),n)})))()},tapGood:function(t){var e=this;return u(o.default.mark((function n(){var i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.Community.sendCommentGood(t.Id);case 2:i=n.sent,i&&(e.commentList[t.index].isGood=!t.isGood,1==e.commentList[t.index].isGood?e.commentList[t.index].good+=1:e.commentList[t.index].good-=1);case 4:case"end":return n.stop()}}),n)})))()},sendComment:function(e){var n=this;return u(o.default.mark((function c(){var s,u,a;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,r.Community.senComment({community_id:n.commentCode.Id,comment_user_id:e.Id,content:e.content});case 2:s=o.sent,s&&(t.showToast({title:"评论成功"}),t.$emit("commentOk",{code:!0}),u=t.getStorageSync("userInfo"),a={Id:s.data.Id,avatar:u.avatar,content:e.content,create_time:(0,i.getTime)(),good:0,isGood:0,nickname:u.nickname,sign:u.sign,twoComment:[],user_id:u.Id,username:u.username},e.Id?n.commentList[e.index]["twoComment"].unshift(a):n.commentList.unshift(a));case 4:case"end":return o.stop()}}),c)})))()},clickFollow:function(e){var n=this;return u(o.default.mark((function i(){var c;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.showLoading({title:"请求中"}),o.next=3,r.Community.sendFollow(e.Id);case 3:o.sent,t.hideLoading(),c=n,null===n||void 0===n||n.communityList.forEach((function(t,n){t.user_id==e.Id&&(c.communityList[n].isFollow=!e.isFollow)}));case 7:case"end":return o.stop()}}),i)})))()},clickGood:function(e){var n=this;return u(o.default.mark((function i(){var c;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n.communityList[e.isIndex].isGood=!e.isGood,0==e.isGood?n.communityList[e.isIndex].good+=1:n.communityList[e.isIndex].good-=1,o.next=4,r.Community.sendGood(e.Id);case 4:c=o.sent,c?t.vibrateShort({success:function(){console.log("抖动")}}):(n.communityList[e.isIndex].isGood=!n.communityList[e.isIndex].isGood,0==e.isGood?n.communityList[e.isIndex].good-=1:n.communityList[e.isIndex].good+=1);case 6:case"end":return o.stop()}}),i)})))()},clickCollection:function(e){var n=this;return u(o.default.mark((function i(){var c;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n.communityList[e.isIndex].isCollection=!e.isCollection,0==e.isCollection?n.communityList[e.isIndex].collection+=1:n.communityList[e.isIndex].collection-=1,o.next=4,r.Community.sendCollection(e.Id);case 4:c=o.sent,c?t.vibrateShort({success:function(){console.log("抖动")}}):0==e.isCollection?n.communityList[e.isIndex].collection-=1:n.communityList[e.isIndex].collection+=1;case 6:case"end":return o.stop()}}),i)})))()},tapComment:function(t){var e=this;return u(o.default.mark((function n(){var i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.commentCode=t,e.showComment=!0,n.next=4,r.Community.getComment(t.Id);case 4:i=n.sent,e.commentList=i.accoumulator;case 6:case"end":return n.stop()}}),n)})))()},closeComment:function(t){this.showComment=!1},getMyFollow:function(){var e=this;return u(o.default.mark((function n(){var i,c,s;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(void 0!=t.getStorageSync("userInfo")&&""!=t.getStorageSync("userInfo")){n.next=3;break}return t.showToast({title:"请先登录",icon:"none"}),n.abrupt("return");case 3:return e.swiperCurrent=0,n.next=6,r.Community.getMyFollow();case 6:return i=n.sent,n.next=9,i.getMoreData();case 9:c=n.sent,s=r.Community.makeImages(c.items),s.moreData||(e.status="nomore"),e.communityList=s,e.communityObject=i;case 15:case"end":return n.stop()}}),n)})))()},getCommunityFire:function(){var t=this;return u(o.default.mark((function e(){var n,i,c;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.swiperCurrent=2,e.next=3,r.Community.getCommunityFire();case 3:return n=e.sent,e.next=6,n.getMoreData();case 6:i=e.sent,c=r.Community.makeImages(i.items),t.communityList=c,t.communityObject=n,console.log(c);case 11:case"end":return e.stop()}}),e)})))()},change:function(t){0==t?this.getMyFollow():1==t?this.initList():2==t?this.getCommunityFire():(this.initList(this.list[t].Id,t),this.swiperCurrent=t)},changeTab:function(e){this.current=e,t.reLaunch({url:this.tabbar[e].path})}}};e.default=l}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},55:
/*!**********************************************************************************************!*\
  !*** /Users/code/community/community/pages/home/index.vue?vue&type=style&index=0&lang=scss& ***!
  \**********************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var o=n(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss& */56),r=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=r.a},56:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/code/community/community/pages/home/index.vue?vue&type=style&index=0&lang=scss& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){}},[[40,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/home/index.js.map