(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/community/index"],{91:
/*!************************************************************************************!*\
  !*** /Users/code/community/community/main.js?{"page":"pages%2Fcommunity%2Findex"} ***!
  \************************************************************************************/
/*! no static exports found */function(n,e,t){"use strict";(function(n){t(/*! uni-pages */4);o(t(/*! vue */2));var e=o(t(/*! ./pages/community/index.vue */92));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},92:
/*!*****************************************************************!*\
  !*** /Users/code/community/community/pages/community/index.vue ***!
  \*****************************************************************/
/*! no static exports found */function(n,e,t){"use strict";t.r(e);var o=t(/*! ./index.vue?vue&type=template&id=5fb47dc3&scoped=true& */93),r=t(/*! ./index.vue?vue&type=script&lang=js& */95);for(var i in r)"default"!==i&&function(n){t.d(e,n,(function(){return r[n]}))}(i);var c,u=t(/*! ../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),a=Object(u["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,"5fb47dc3",null,!1,o["components"],c);a.options.__file="pages/community/index.vue",e["default"]=a.exports},93:
/*!************************************************************************************************************!*\
  !*** /Users/code/community/community/pages/community/index.vue?vue&type=template&id=5fb47dc3&scoped=true& ***!
  \************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(n,e,t){"use strict";t.r(e);var o=t(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=5fb47dc3&scoped=true& */94);t.d(e,"render",(function(){return o["render"]})),t.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(e,"components",(function(){return o["components"]}))},94:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/code/community/community/pages/community/index.vue?vue&type=template&id=5fb47dc3&scoped=true& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(n,e,t){"use strict";var o;t.r(e),t.d(e,"render",(function(){return r})),t.d(e,"staticRenderFns",(function(){return c})),t.d(e,"recyclableRender",(function(){return i})),t.d(e,"components",(function(){return o}));try{o={communityInfoComment:function(){return t.e(/*! import() | components/communityInfo-comment/communityInfo-comment */"components/communityInfo-comment/communityInfo-comment").then(t.bind(null,/*! @/components/communityInfo-comment/communityInfo-comment.vue */260))},uLoadmore:function(){return t.e(/*! import() | uview-ui/components/u-loadmore/u-loadmore */"uview-ui/components/u-loadmore/u-loadmore").then(t.bind(null,/*! @/uview-ui/components/u-loadmore/u-loadmore.vue */159))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var n=this,e=n.$createElement;n._self._c},i=!1,c=[];r._withStripped=!0},95:
/*!******************************************************************************************!*\
  !*** /Users/code/community/community/pages/community/index.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************/
/*! no static exports found */function(n,e,t){"use strict";t.r(e);var o=t(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */96),r=t.n(o);for(var i in o)"default"!==i&&function(n){t.d(e,n,(function(){return o[n]}))}(i);e["default"]=r.a},96:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/code/community/community/pages/community/index.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=u(t(/*! ./node_modules/@babel/runtime/regenerator */46)),i=t(/*! ../../model/community */49),c=t(/*! ../../utils/public.js */54);function u(n){return n&&n.__esModule?n:{default:n}}function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function s(n,e,t,o,r,i,c){try{var u=n[i](c),a=u.value}catch(s){return void t(s)}u.done?e(a):Promise.resolve(a).then(o,r)}function m(n){return function(){var e=this,t=arguments;return new Promise((function(o,r){var i=n.apply(e,t);function c(n){s(i,o,r,c,u,"next",n)}function u(n){s(i,o,r,c,u,"throw",n)}c(void 0)}))}}var d=function(){t.e(/*! require.ensure | components/community-card/index */"components/community-card/index").then(function(){return resolve(t(/*! ../../components/community-card/index.vue */171))}.bind(null,t)).catch(t.oe)},f=function(){t.e(/*! require.ensure | components/communityInfo-comment/communityInfo-comment */"components/communityInfo-comment/communityInfo-comment").then(function(){return resolve(t(/*! ../../components/communityInfo-comment/communityInfo-comment.vue */260))}.bind(null,t)).catch(t.oe)},l=(o={name:"",data:function(){return{info:"",comment:"",paging:"",status:"loading",Id:""}},methods:{},onLoad:function(n){var e=this;return m(r.default.mark((function t(){var o,c,u,a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.Community.getCommunityInfo(n.Id);case 2:return o=t.sent,200==o.code&&(e.info=o.data),t.next=6,i.Community.getCommunityComment(n.Id);case 6:return c=t.sent,t.next=9,c.getMoreData();case 9:u=t.sent,a=i.Community.makeImages(u.items,!1),e.comment=a,e.paging=c,c.moreData||(e.status="nomore"),c.accoumulator.length<20&&(e.status="nomore"),e.Id=n.Id;case 16:case"end":return t.stop()}}),t)})))()},onReachBottom:function(){var n=this;return m(r.default.mark((function e(){var t,o,c;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=n.paging){e.next=2;break}return e.abrupt("return");case 2:if(t=n.paging,!t.moreData){e.next=12;break}return e.next=6,t.getMoreData();case 6:o=e.sent,c=i.Community.makeImages(o.items,!1),n.comment=n.comment.concat(c),n.status="nomore",e.next=13;break;case 12:n.status="nomore";case 13:case"end":return e.stop()}}),e)})))()},onPullDownRefresh:function(){var e=this;return m(r.default.mark((function t(){var o,c,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.Community.getCommunityComment(e.Id);case 2:return o=t.sent,t.next=5,o.getMoreData();case 5:c=t.sent,u=i.Community.makeImages(c.items,!1),e.comment=u,e.paging=o,o.moreData||(e.status="nomore"),n.showToast({title:"刷新完成",icon:"none"}),n.stopPullDownRefresh();case 12:case"end":return t.stop()}}),t)})))()},mounted:function(){}},a(o,"methods",{tapGoodTwo:function(n){var e=this;return m(r.default.mark((function t(){var o;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.Community.sendCommentTwoGood(n.Id);case 2:o=t.sent,o&&(e.comment[n.index].twoComment[n.indexTwo].isGood=!n.isGood,1==e.comment[n.index].twoComment[n.indexTwo].isGood?e.comment[n.index].twoComment[n.indexTwo].good+=1:e.comment[n.index].twoComment[n.indexTwo].good-=1);case 4:case"end":return t.stop()}}),t)})))()},tapGood:function(n){var e=this;return m(r.default.mark((function t(){var o;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.Community.sendCommentGood(n.Id);case 2:o=t.sent,o&&(e.comment[n.index].isGood=!n.isGood,1==e.comment[n.index].isGood?e.comment[n.index].good+=1:e.comment[n.index].good-=1);case 4:case"end":return t.stop()}}),t)})))()},sendComment:function(e){var t=this;return m(r.default.mark((function o(){var u,a,s;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,i.Community.senComment({community_id:t.info.Id,comment_user_id:e.Id,content:e.content});case 2:u=o.sent,u&&(n.showToast({title:"评论成功"}),n.$emit("commentOk",{code:!0}),a=n.getStorageSync("userInfo"),s={Id:u.data.Id,avatar:a.avatar,content:e.content,create_time:(0,c.getTime)(),good:0,isGood:0,nickname:a.nickname,sign:a.sign,twoComment:[],user_id:a.Id,username:a.username},e.Id?t.comment[e.index]["twoComment"].unshift(s):(t.comment.unshift(s),t.info.comment+=1));case 4:case"end":return o.stop()}}),o)})))()},changeMoreSelect:function(e){return m(r.default.mark((function t(){var o;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.Community.sendReport(e.Id);case 2:o=t.sent,200==o.code?n.showToast({title:"举报成功"}):n.showToast({title:o.msg,icon:"none"});case 4:case"end":return t.stop()}}),t)})))()},clickFollow:function(e){var t=this;return m(r.default.mark((function o(){return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n.showLoading({title:"请求中"}),o.next=3,i.Community.sendFollow(e.Id);case 3:o.sent,n.hideLoading(),t,t.info.isFollow=!e.isFollow;case 7:case"end":return o.stop()}}),o)})))()},clickGood:function(e){var t=this;return m(r.default.mark((function o(){var c;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.info.isGood=!e.isGood,0==e.isGood?t.info.good+=1:t.info.good-=1,o.next=4,i.Community.sendGood(e.Id);case 4:c=o.sent,c?n.vibrateShort({success:function(){console.log("抖动")}}):(t.info.isGood=!t.info.isGood,0==e.isGood?t.info.good-=1:t.info.good+=1);case 6:case"end":return o.stop()}}),o)})))()},clickCollection:function(e){var t=this;return m(r.default.mark((function o(){var c;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.info.isCollection=!e.isCollection,0==e.isCollection?t.info.collection+=1:t.info.collection-=1,o.next=4,i.Community.sendCollection(e.Id);case 4:c=o.sent,c?n.vibrateShort({success:function(){console.log("抖动")}}):0==e.isCollection?t.info.collection-=1:t.info.collection+=1;case 6:case"end":return o.stop()}}),o)})))()}}),a(o,"components",{communityCard:d,communityInfoComment:f}),o);e.default=l}).call(this,t(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])}},[[91,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/community/index.js.map